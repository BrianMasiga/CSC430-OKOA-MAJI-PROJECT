<!DOCTYPE html>
<html lang="en">

  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>OKOA MAJI APP</title>
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">
  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.snow.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.bubble.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/simple-datatables/style.css" rel="stylesheet">
  <link href="assets/css/style.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="assets/vendor/apexcharts/apexcharts.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/chart.js/chart.umd.js"></script>
  <script src="assets/vendor/echarts/echarts.min.js"></script>
  <script src="assets/vendor/quill/quill.min.js"></script>
  <script src="assets/vendor/simple-datatables/simple-datatables.js"></script>
  <script src="assets/vendor/tinymce/tinymce.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!--  Begin Header -->
  <header id="header" class="header fixed-top d-flex align-items-center">
    <div class="d-flex align-items-center justify-content-between">
      <i class="bi bi-list toggle-sidebar-btn"></i>
    </div>
    <nav class="header-nav ms-auto">
      <ul class="d-flex align-items-center">
        <li class="nav-item dropdown pe-3">      
            <span class="d-none d-md-block ps-2">#OKOAMAJI</span>
        </li>
      </ul>
    </nav>

  </header>
  <!-- End Header -->

 <!-- Begin SideNav -->
 <aside id="sidebar" class="sidebar">
    <ul class="sidebar-nav" id="sidebar-nav">
      <li class="nav-item">
        <a class="nav-link collapsed" href="index.php">
          <i class="bi bi-grid"></i>
          <span>Home</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="readings.php">
          <i class="bi bi-bar-chart"></i>
          <span>Analysis</span>
        </a>
        </li>
      <li class="nav-item">
        <a class="nav-link collapsed" href="articles.php">
          <i class="bi bi-list"></i>
          <span>Articles</span>
        </a>
      </li>
        </li>
      <li class="nav-item">
      <li class="nav-item">
        <a class="nav-link collapsed" href="login.php">
          <i class="bi bi-box-arrow-in-right"></i>
          <span>Logout</span>
        </a>
      </li>
    </ul>
  </aside>
  <!-- End SideNav-->

  <main id="main" class="main">

    <div class="pagetitle">
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="index.html">Home </a></li>
          <li class="breadcrumb-item active">Articles</li>
        </ol>
      </nav>
    </div><!-- End Page Title -->

    <section class="section dashboard">
      <div class="row">

        <!-- Left side columns -->
        <div class="col-lg-12">
          <div class="row">


            <!-- Reports -->
            <div class="col-12">
              <div class="card">

                
            
 
        <!-- Right side columns -->
        
        <div class="container">
        <img src="https://images.zeald.com/site/kohlerau/images/water-header2.jpg" class="card-img">

        <div class="alert alert-primary text-center" role="alert">
                Water is a precious resource that is essential for life and sustainable development. However, access to clean and safe water is still a challenge for many people around the world, particularly in developing countries. This is why Sustainable Development Goal 6 (SDG 6) aims to ensure availability and sustainable management of water and sanitation for all. In this article section, we present a collection of articles that provide tips and insights on how to conserve water, reduce water waste, and promote sustainable water use at home and in various aspects of our daily lives. These articles are intended to inspire and inform individuals and communities on ways they can contribute to achieving SDG 6 and creating a more sustainable future.
              </div> 
        <div class="alert alert-dark text-center" role="alert">
ONLINE RESOURCES              </div> 

    <div class="row">
      <!-- Left side column -->
      <div class="col-lg-6">
        <!-- Image section -->
        <div class="card">
          <img src="https://t4u3p2j3.stackpathcdn.com/wp-content/uploads/2021/07/Beltran_Kristen_Elem-5_Poster.jpg" class="card-img" alt="Your image description">
        </div>
      </div>
      <div class="col-lg-6">
        <div class="text" role="alert">
          
       
          <ul class="list-group">
            <!-- List items here -->
            <li class="list-group-item alert alert-secondary"><a href="https://www.epa.gov/watersense">EPA WaterSense</a></li>
      <li class="list-group-item alert alert-secondary"><a href="https://www.awwa.org/Resources-Tools/Resource-Topics/Water-Conservation">American Water Works Association (AWWA)</a></li>
      <li class="list-group-item alert alert-secondary"><a href="https://www.waterfootprint.org">Water Footprint Network</a></li>
      <li class="list-group-item alert alert-secondary"><a href="https://www.allianceforwaterefficiency.org">Alliance for Water Efficiency</a></li>
      <li class="list-group-item alert alert-secondary"><a href="https://www.watercalculator.org">Water Calculator</a></li>
      <li class="list-group-item alert alert-secondary"><a href="https://www.wateruseitwisely.com">Water Use It Wisely</a></li>
      <li class="list-group-item alert alert-secondary"><a href="https://www.unwater.org">UN-Water</a></li>
          </ul>
        </div>
      </div>

      <!-- Right side column -->
      
    </div>
  </div>
        <div class="col-lg-12">

            <!-- Article section -->
            <div class="card">
          <br>
              <div class="card-body pb-0">
               
                    <span id="date-time"></span>
                    <div class="col-lg-12" id="admin-section">
            <div class="card">
          
              <div class="card-body col-lg-12">
                <h5 class="card-title text-center"> ADD A NEW ARTICLE</h5>
          
                <form id="add-article-form" method="post">
                  <div class="form-group">
                    <label for="article-title" class ="card-title">TITLE OF YOUR ARTICLE </label>
                    <input type="text" class="form-control" id="article-title" name="article-title" required>
                  </div>
          
                  <div class="form-group">
                    <label class ="card-title" for="article-url">NAME</label>
                    <input type="text" class="form-control" id="article-url" name="article-url" required>
                  </div>
          
                  <div class="form-group">
                    <label for="article-content" class ="card-title">CONTENT OF THE ARTICLE</label>
                    <textarea class="form-control" id="article-content" name="article-content" rows="3" required></textarea>
                  </div>
          <br>
                  <button type="submit" class="btn btn-dark w-100">CONTRIBUTE</button>
                  
                </form>

                <br>
          <br>
              </div>
            </div>
          </div>
                </h5>
                <div class="alert alert-info text-center" role="alert">
User generated articles will appear below </div> 
                <div class="news" id="articles-container">                
                  <!-- Articles will be dynamically generated here -->
                  <?php
$servername = "localhost";
$username = "admin";
$password = "admin1234";
$dbname = "okoamaji";


// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);

// Check connection
if ($conn->connect_error) {
  die("Connection failed: " . $conn->connect_error);
}

// Query database for articles
$sql = "SELECT article_id, title, image_url, content, created_at FROM articles";
$result = $conn->query($sql);

// Generate HTML for each article
if ($result->num_rows > 0) {
  while($row = $result->fetch_assoc()) {
    echo '<div class="article alert alert-dark">';
    echo '<h5 class="article-title"> <b>TITLE: ' . $row["title"] . '</b></h5>';
    echo '<h6 class="article-content">' . $row["content"] . '</h6>';   
    echo '<h6 class="article-url"> Author: ' . $row["image_url"] . '</h6>';
    echo '<h7 class="article-time-added"> <b> Added on: ' . $row["created_at"] . '</h7>';
    echo '<form action="delete-article.php" method="POST">';
    echo '<input type="hidden" name="article_id" value="' . $row["article_id"] .'">';
    echo '<br>';
    echo '<button type="submit" class="btn btn-danger delete-button">Delete Post</button>';
    echo '</form>';
    echo '</div> <hr>';
  }
  
} else {
  echo "No Articles have been created so far. You can be the first to create one! ";
}

// Close connection
$conn->close();
?>

                </div>
              </div>
            </div>
          
          </div>
          <div class="col-lg-12">

            <!-- Article section -->
            <div class="card">
          
              <div class="card-body pb-0">
                <h5 class="card-title">SUGGESTED ARTICLES<span>| 
                    <span id="date-time"></span>
                </h5>
                <div class="alert alert-success text-center" role="alert">
Currated Articles to help you be more water wise </div> 
                <div class="news" id="articles-container">
                  <div class="post-item clearfix">
                    <img src="https://img.freepik.com/premium-vector/save-water-save-earth-international-earth-day-international-water-day-save-earthwater-flat-vecto_635040-19.jpg?w=2000" alt="">
                    <h4><a href="#">10 Tips for Conserving Water at Home</a></h4>
                    <p>Water is a precious resource that is becoming increasingly scarce, especially in areas affected by drought and climate change. As such, it's important for everyone to do their part in conserving water at home. Here are 10 simple tips to help you reduce your water usage:<br>
<br>
<b>1. Fix leaks</b> - Even small leaks can waste a lot of water over time, so be sure to fix any leaks as soon as possible.<br>
<b>2. Install low-flow fixtures</b> - Low-flow showerheads, faucets, and toilets can help reduce your water usage without sacrificing performance.<br>
<b>3. Shorten your showers</b> - Taking shorter showers is an easy way to reduce your water usage and save energy.<br>

<b>4. Use a broom instead of a hose</b> - Instead of using a hose to clean your driveway or sidewalk, use a broom to save water.<br>

<b>5. Only run full loads</b> - Whether you're doing laundry or running your dishwasher, be sure to only run full loads to conserve water.<br>

<b>6. Water your lawn in the early morning or late evening</b> - Watering your lawn during the heat of the day can cause water to evaporate before it has a chance to be absorbed by the soil.<br>

<b>7. Collect rainwater</b> - Use a rain barrel to collect rainwater for use in your garden or for flushing your toilet.<br>

<b>8. Use a pool cover</b> - A pool cover can help reduce evaporation and keep your pool clean, reducing the need to top it up with fresh water.<br>

<b>9. Choose drought-tolerant plants</b> - Planting drought-tolerant plants in your garden can help reduce your water usage and keep your yard looking beautiful.<br>

<b>10. Turn off the tap</b> - When brushing your teeth or shaving, turn off the tap to save water.<br>

By following these simple tips, you can help reduce your water usage and do your part in conserving this precious resource.</p>
                  </div>
          <hr>
                  <div class="post-item clearfix">
                    <img src="  https://img.freepik.com/premium-vector/save-water-save-earth-international-earth-day-international-water-day-save-earthwater-flat-vecto_635040-19.jpg?w=2000" alt="">
                    <h4><a href="#">How to Design a Water-Wise Garden</a></h4>
                    <p><p><b>Gardening is a great way to connect with nature and enjoy fresh produce, but it can also be a major source of water waste.</b> In this article, we'll show you how to design a water-wise garden that is both beautiful and efficient.</p>
<br>
<p><b>First,</b> it's important to choose plants that are adapted to your region's climate and soil type. Native plants are a great choice, as they are already adapted to the local conditions and require less water and maintenance.</p>

<p><b>Next,</b> consider using mulch in your garden. Mulch helps retain moisture in the soil, reducing the need for watering. Organic mulches like leaves, grass clippings, and wood chips also help improve soil health and fertility.</p>

<p><b>Another</b> water-saving technique is to use drip irrigation. Drip irrigation systems deliver water directly to the plant's roots, reducing evaporation and runoff. They can also be set to water plants at specific times, when water demand is highest.</p>

<p><b>Finally,</b> consider using rainwater harvesting to water your garden. Rain barrels or cisterns can be installed to collect rainwater from your roof, which can then be used to irrigate your plants. This is not only a great way to save water, but it also reduces stormwater runoff and erosion.</p></p>
                  </div>
                  <hr>
                  <div class="post-item clearfix">
                    <img src="  https://img.freepik.com/premium-vector/save-water-save-earth-international-earth-day-international-water-day-save-earthwater-flat-vecto_635040-19.jpg?w=2000" alt="">
                    <h4><a href="#">The Impact of Meat Consumption on Water Resources</a></h4>
                    <p>Did you know that producing a single pound of beef requires over 1,800 gallons of water? In this article, we'll explore the water footprint of meat production and discuss ways to reduce your consumption.</p>

<p>One of the most effective ways to reduce your water footprint is to cut back on meat consumption. Animal agriculture is one of the largest consumers of water, and reducing your meat intake can have a significant impact on your water usage.</p>

<p>You don't have to become a vegetarian or vegan to make a difference. Simply cutting back on meat and choosing plant-based options more often can make a big impact. Try having one or two meatless meals a week, or swapping out meat for plant-based proteins like beans, lentils, or tofu.</p>

<p>Another way to reduce your water footprint is to choose meat from more sustainable sources. Look for labels like "grass-fed" or "organic," which indicate that the animals were raised in a more sustainable way. You can also try eating lower on the food chain by choosing smaller fish like sardines or anchovies instead of larger fish like tuna or salmon.</p>

<p>By making small changes to your diet and choosing more sustainable sources of meat, you can significantly reduce your water footprint and help conserve this precious resource.</p>
                  </div>
                  <hr>
                  <div class="post-item clearfix">
 <img src="  https://img.freepik.com/premium-vector/save-water-save-earth-international-earth-day-international-water-day-save-earthwater-flat-vecto_635040-19.jpg?w=2000" alt="">
 <h4><b>How to Fix a Running Toilet</b></h4>
 <p>If your toilet is constantly running, it can waste a significant amount of water and increase your water bill. Here's how to fix it:</p>

 <p>First, remove the lid from the toilet tank and check the flapper valve. If it is not sealing properly, it may need to be replaced.</p>

 <p>Next, check the float ball or cup. If it is not functioning properly, it may need to be adjusted or replaced.</p>

 <p>Finally, check the fill valve. If it is not functioning properly, it may need to be adjusted or replaced.</p>
 </div>
 <hr>
<div class="post-item clearfix">
 <img src="  https://img.freepik.com/premium-vector/save-water-save-earth-international-earth-day-international-water-day-save-earthwater-flat-vecto_635040-19.jpg?w=2000" alt="">
 <h4><b>How to Water Your Plants When You're Away</b></h4>
 <p>Going away for a few days or weeks? Here's how to make sure your plants stay hydrated:</p>

 <p>First, water your plants thoroughly before you leave. This will give them a good supply of water to start with.</p>

 <p>Next, group your plants together in a cool, shady location. This will help reduce water loss through evaporation.</p>

 <p>Finally, place a plastic bag over each plant and secure it at the base with a rubber band. This will create a mini greenhouse effect, trapping moisture and helping to keep your plants hydrated.</p>
 </div>
 <hr>
<div class="post-item clearfix">
 <img src="  https://img.freepik.com/premium-vector/save-water-save-earth-international-earth-day-international-water-day-save-earthwater-flat-vecto_635040-19.jpg?w=2000" alt="">
 <h4><b>5 Ways to Conserve Water While Doing Laundry</b></h4>
 <p>Doing laundry can be a significant source of water waste in the home. Here are 5 ways to conserve water while doing laundry:</p>

 <p>First, only run full loads. Running partial loads wastes water and energy.</p>

 <p>Next, choose a high-efficiency washing machine. These machines use less water and energy than traditional machines.</p>

 <p>Third, use the right amount of detergent. Using too much detergent can require extra rinsing, wasting water.</p>

 <p>Fourth, consider using a clothesline or drying rack instead of a dryer. This not only saves water, but also energy.</p>

 <p>Finally, consider using a gray water system to recycle water from your washing machine. This water can be used to irrigate your garden or for other non-potable uses.</p>
 </div>
                </div>
                </div>
          
              </div>
            </div>
          
          </div>
          
    </section>

  </main>
        <?php
$servername = "localhost";
$username = "admin";
$password = "admin1234";
$dbname = "okoamaji";

// Create connection
$conn = new mysqli($servername, $username, $password, $dbname);

// Check connection
if ($conn->connect_error) {
  die("Connection failed: " . $conn->connect_error);
}

// Get input from form
$title = isset($_POST["article-title"]) ? trim($_POST["article-title"]) : null;
$image_url = isset($_POST["article-url"]) ? trim($_POST["article-url"]) : null;
$content = isset($_POST["article-content"]) ? trim($_POST["article-content"]) : null;

// Validate form data
$errors = array();
if (empty($title)) {
  $errors[] = "Title is required";
}
if (empty($content)) {
  $errors[] = "Content is required";
}

// Check for validation errors
if (!empty($errors)) {
  echo "<p>";
  foreach ($errors as $error) {
    echo "<p>$error</p>";
  }
  echo "</p>";
  exit;
}

// Prepare and bind SQL statement to check for duplicates
$stmt = $conn->prepare("SELECT COUNT(*) FROM articles WHERE title = ? AND content = ?");
$stmt->bind_param("ss", $title, $content);

// Execute SQL statement
$stmt->execute();
$stmt->bind_result($count);
$stmt->fetch();

// Close result set
$stmt->free_result();

// Check if article already exists
if ($count > 0) {
  echo "<p></p>";
  exit;
}

// Prepare and bind SQL statement to insert new article
$stmt = $conn->prepare("INSERT INTO articles (title, image_url, content, user_id) VALUES (?, ?, ?, '1')");
$stmt->bind_param("sss", $title, $image_url, $content);

// Execute SQL statement to insert new article
if ($stmt->execute() === TRUE) {
  echo '<span id="success-label">Thank you for your contribution! Your New article created successfully</span>';
} else {
  echo "Error: " . $stmt->error;
}

// Close connection
$stmt->close();
$conn->close();
?>


<script>
 
  // Hide the success label after 2 seconds
  setTimeout(function() {
    var successLabel = document.getElementById('success-label');
    if (successLabel) {
      successLabel.style.display = 'none';
    }
  }, 2000);

    // Get the current date and time and display it
const now = new Date();
const year = now.getFullYear();
const month = String(now.getMonth() + 1).padStart(2, '0');
const day = String(now.getDate()).padStart(2, '0');
const hour = String(now.getHours()).padStart(2, '0');
const minute = String(now.getMinutes()).padStart(2, '0');
const second = String(now.getSeconds()).padStart(2, '0');
const formattedDate = `${year}-${month}-${day} ${hour}:${minute}:${second}`;
document.getElementById("date-time").textContent = formattedDate;

</script>          
    <!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer" class="footer">
    <div class="copyright">
      &copy; Copyright <strong><span>okoamajiapp</span></strong>. All Rights Reserved
    </div>
  </footer>
  <!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>